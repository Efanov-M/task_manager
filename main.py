import os

if not os.path.isfile("task.txt"):

    while True:
        user_choise = input(
            "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã—ã–π ? (–≤–≤–µ–¥–∏—Ç–µ y-–¥–∞, n-–Ω–µ—Ç):  "
        )
        if user_choise.lower() == "y":
            with open("task.txt", "w", encoding="utf-8") as f:
                f.write("–∏–º—è | –∑–∞–¥–∞—á–∞ | –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç\n")
                print("–§–∞–π–ª task.txt —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø–∏—Å–∞–Ω")
                break
        elif user_choise.lower() == "n":
            print("–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã.")
            exit()
        else:
            print("–í—ã –≤–≤–µ–ª–∏ –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É")
print(
    """üìå –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é: 
    –ü—É–Ω–∫—Ç 1 ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏
    –ü—É–Ω–∫—Ç 2 ‚Äî –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
    –ü—É–Ω–∫—Ç 3 ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–¥–∞—á–∏ –ø–æ –∏–º–µ–Ω–∏
    –ü—É–Ω–∫—Ç 4 ‚Äî –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ –Ω–æ–º–µ—Ä—É
    –ü—É–Ω–∫—Ç 5 ‚Äî –í—ã—Ö–æ–¥"""
)


# –ß—Ç–µ–Ω–∏–µ –∏ –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫
def show_all_tasks():
    with open("task.txt", "r", encoding="utf-8") as f:
        lines = f.readlines()
        # —Å–æ–±–∏—Ä–∞–µ–º —Ñ–∞–π–ª –≤ –æ–¥–∏–Ω —Ç–µ–∫—Å—Ç
        print(f"[0] {lines[0].strip()}")
        # –≤—ã–≤–æ–¥–∏–º —à–∞–ø–∫—É —Ç–∞–∫ —á—Ç–æ –±—ã –µ–µ –Ω–µ–ª—å–∑—è –±—ã–ª–æ —É–¥–∞–ª–∏—Ç—å
        for idx, line in enumerate(lines[1:], start=1):
            print(f"[{idx}] {line.strip()}")


while True:

    user_menu = input("–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç: ")

    if user_menu == "1":
        show_all_tasks()
    elif user_menu == "5":
        print("–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!!!")
        break
